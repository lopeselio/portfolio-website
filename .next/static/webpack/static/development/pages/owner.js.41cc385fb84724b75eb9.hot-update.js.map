{"version":3,"file":"static/webpack/static\\development\\pages\\owner.js.41cc385fb84724b75eb9.hot-update.js","sources":["webpack:///./components/hoc/withAuth.js"],"sourcesContent":["import React from 'react'\r\nimport BaseLayout from '../layouts/BaseLayout'\r\nimport BasePage from '../BasePage'\r\nconst namespace = 'http://localhost:3000/'\r\n\r\nexport default function (Component, role) {\r\n  return class withAuth extends React.Component {\r\n    static async getInitialProps (args) {\r\n      const pageProps = await Component.getInitialProps && await Component.getInitialProps(args)\r\n      return { ...pageProps }\r\n    }\r\n\r\n    renderProtectedPage () {\r\n      const { isAuthenticated, user } = this.props.auth\r\n      const uderRole = user && user[`${namespace}role`]\r\n      let isAuthorized = false\r\n      if (role) {\r\n        if (userRole && userRole === role) { isAuthorized = true }\r\n      } else {\r\n        isAuthorized = true\r\n      }\r\n\r\n      if (!isAuthenticated) {\r\n        return (\r\n          <BaseLayout {...this.props.auth}>\r\n            <BasePage>\r\n              <h1> You are not authenticated. Please Login to gain access.  </h1>\r\n            </BasePage>\r\n          </BaseLayout>\r\n        )\r\n      } else if (!isAuthorized) {\r\n        return (\r\n          <BaseLayout {...this.props.auth}>\r\n            <BasePage>\r\n              <h1> You are not authorized. Please Login to gain access.  </h1>\r\n            </BasePage>\r\n          </BaseLayout>\r\n        )\r\n      }\r\n      if (isAuthenticated) {\r\n        return (<Component {...this.props} />)\r\n      } else {\r\n        return (\r\n          <BaseLayout {...this.props.auth}>\r\n            <BasePage>\r\n              <h1> You are not authenticated. Please Login to gain access.  </h1>\r\n            </BasePage>\r\n          </BaseLayout>\r\n        )\r\n      }\r\n    }\r\n\r\n    render () {\r\n      return this.renderProtectedPage()\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAMA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AAOA;AACA;AAAA;AACA;AACA;AACA;AAOA;AACA;AA5CA;AAAA;AAAA;AA+CA;AACA;AAhDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAkDA;;;;A","sourceRoot":""}