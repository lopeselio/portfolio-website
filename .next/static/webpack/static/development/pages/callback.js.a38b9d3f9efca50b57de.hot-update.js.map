{"version":3,"file":"static/webpack/static\\development\\pages\\callback.js.a38b9d3f9efca50b57de.hot-update.js","sources":["webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./services/auth0.js"],"sourcesContent":["import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import auth0 from 'auth0-js'\r\nimport Cookies from 'js-cookie'\r\n\r\nclass Auth0 {\r\n  constructor () {\r\n    this.auth0 = new auth0.WebAuth({\r\n      domain: 'dev-fee5qd3s.auth0.com',\r\n      clientID: 'PRojVaD1nApgzyFqr90GZGI9kNxIj561',\r\n      redirectUri: 'http://localhost:3000/callback',\r\n      responseType: 'token id_token',\r\n      scope: 'openid profile'\r\n    })\r\n    this.login = this.login.bind(this)\r\n    this.handleAuthentication = this.handleAuthentication.bind(this)\r\n  }\r\n\r\n  handleAuthentication () {\r\n    return new Promise((resolve, reject) => {\r\n      this.auth0.parseHash((err, authResult) => {\r\n        if (authResult && authResult.accessToken && authResult.idToken) {\r\n          this.setSession(authResult)\r\n          // history.replace('/home')\r\n          resolve()\r\n        } else if (err) {\r\n          // history.replace('/home')\r\n          reject(err)\r\n          console.log(err)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  setSession (authResult) {\r\n    const expiresAt = JSON.stringify((authResult.expiresIn * 1000) + new Date().getTime())\r\n    // localStorage.setItem('access_token', authResult.accessToken)\r\n    // localStorage.setItem('id_token', authResult.idToken)\r\n    // localStorage.setItem('expires_at'.expiresAt)\r\n    Cookies.set('user', authResult.idTokenPayload)\r\n    Cookies.set('jwt', authResult.idToken)\r\n    Cookies.set('expiresAt', expiresAt)\r\n  }\r\n\r\n  logout\r\n\r\n  login () {\r\n    this.auth0.authorize()\r\n  }\r\n}\r\n\r\nconst auth0Client = new Auth0()\r\n\r\nexport default auth0Client\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;;;AAIA;AACA;AACA;;;;;;AAGA;AAEA;;;;A","sourceRoot":""}