{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { getCookieFromReq } from '../helpers/utils';\n\nvar setAuthHeader = function setAuthHeader(req) {\n  var token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt');\n\n  if (token) {\n    return {\n      headers: {\n        authorization: \"Bearer \".concat(Cookies.getJSON('jwt'))\n      }\n    };\n  }\n\n  return undefined;\n};\n\nexport var getSecretData = function getSecretData(req) {\n  var url;\n  return _regeneratorRuntime.async(function getSecretData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          url = 'http://localhost:3000/api/v1/secret';\n          return _context.abrupt(\"return\", axios.get(url, setAuthHeader(req)).then(function (response) {\n            return response.data;\n          }));\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["C:/Users/Elio/Desktop/Portfolio-Website/actions/index.js"],"names":["axios","Cookies","getCookieFromReq","setAuthHeader","req","token","getJSON","headers","authorization","undefined","getSecretData","url","get","then","response","data"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,gBAAT,QAAiC,kBAAjC;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAS;AAC7B,MAAMC,KAAK,GAAGD,GAAG,GAAGF,gBAAgB,CAACE,GAAD,EAAM,KAAN,CAAnB,GAAkCH,OAAO,CAACK,OAAR,CAAgB,KAAhB,CAAnD;;AACA,MAAID,KAAJ,EAAW;AACT,WAAO;AAAEE,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,mBAAYP,OAAO,CAACK,OAAR,CAAgB,KAAhB,CAAZ;AAAf;AAAX,KAAP;AACD;;AACD,SAAOG,SAAP;AACD,CAND;;AAQA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAON,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBO,UAAAA,GADqB,GACf,qCADe;AAAA,2CAEpBX,KAAK,CAACY,GAAN,CAAUD,GAAV,EAAeR,aAAa,CAACC,GAAD,CAA5B,EAAmCS,IAAnC,CAAwC,UAAAC,QAAQ,EAAI;AAAE,mBAAOA,QAAQ,CAACC,IAAhB;AAAsB,WAA5E,CAFoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB","sourcesContent":["import axios from 'axios'\r\nimport Cookies from 'js-cookie'\r\nimport { getCookieFromReq } from '../helpers/utils'\r\n\r\nconst setAuthHeader = (req) => {\r\n  const token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt')\r\n  if (token) {\r\n    return { headers: { authorization: `Bearer ${Cookies.getJSON('jwt')}` } }\r\n  }\r\n  return undefined\r\n}\r\n\r\nexport const getSecretData = async (req) => {\r\n  const url = 'http://localhost:3000/api/v1/secret'\r\n  return axios.get(url, setAuthHeader(req)).then(response => { return response.data })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}