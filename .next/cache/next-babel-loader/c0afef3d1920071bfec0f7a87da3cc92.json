{"ast":null,"code":"import axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { getCookiesFromReq } from '../helpers/utils';\n\nconst setAuthHeader = req => {\n  const token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt');\n\n  if (token) {\n    return {\n      headers: {\n        authorization: `Bearer ${Cookies.getJSON('jwt')}`\n      }\n    };\n  }\n\n  return undefined;\n};\n\nexport const getSecretData = async req => {\n  const url = 'http://localhost:3000/api/v1/secret';\n  return axios.get(url, setAuthHeader(req)).then(response => {\n    return response.data;\n  });\n}; // export const getSecretDataServer = async (req) => {\n//   return await axios.get('http://localhost:3000/api/v1/secret', setAuthHeader(req) ).then(response => {return response.data})\n// }","map":{"version":3,"sources":["C:/Users/Elio/Desktop/Portfolio-Website/actions/index.js"],"names":["axios","Cookies","getCookiesFromReq","setAuthHeader","req","token","getCookieFromReq","getJSON","headers","authorization","undefined","getSecretData","url","get","then","response","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,iBAAT,QAAkC,kBAAlC;;AAEA,MAAMC,aAAa,GAAIC,GAAD,IAAS;AAC7B,QAAMC,KAAK,GAAGD,GAAG,GAAGE,gBAAgB,CAACF,GAAD,EAAM,KAAN,CAAnB,GAAkCH,OAAO,CAACM,OAAR,CAAgB,KAAhB,CAAnD;;AACA,MAAIF,KAAJ,EAAW;AACT,WAAO;AAAEG,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASR,OAAO,CAACM,OAAR,CAAgB,KAAhB,CAAuB;AAAlD;AAAX,KAAP;AACD;;AACD,SAAOG,SAAP;AACD,CAND;;AAQA,OAAO,MAAMC,aAAa,GAAG,MAAOP,GAAP,IAAe;AAC1C,QAAMQ,GAAG,GAAG,qCAAZ;AACA,SAAOZ,KAAK,CAACa,GAAN,CAAUD,GAAV,EAAeT,aAAa,CAACC,GAAD,CAA5B,EAAmCU,IAAnC,CAAwCC,QAAQ,IAAI;AAAE,WAAOA,QAAQ,CAACC,IAAhB;AAAsB,GAA5E,CAAP;AACD,CAHM,C,CAKP;AACA;AACA","sourcesContent":["import axios from 'axios'\r\nimport Cookies from 'js-cookie'\r\nimport { getCookiesFromReq } from '../helpers/utils'\r\n\r\nconst setAuthHeader = (req) => {\r\n  const token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt')\r\n  if (token) {\r\n    return { headers: { authorization: `Bearer ${Cookies.getJSON('jwt')}` } }\r\n  }\r\n  return undefined\r\n}\r\n\r\nexport const getSecretData = async (req) => {\r\n  const url = 'http://localhost:3000/api/v1/secret'\r\n  return axios.get(url, setAuthHeader(req)).then(response => { return response.data })\r\n}\r\n\r\n// export const getSecretDataServer = async (req) => {\r\n//   return await axios.get('http://localhost:3000/api/v1/secret', setAuthHeader(req) ).then(response => {return response.data})\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}