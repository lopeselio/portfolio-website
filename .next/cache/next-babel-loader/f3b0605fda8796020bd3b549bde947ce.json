{"ast":null,"code":"import axios from 'axios';\nimport Cookies from 'js-cookie';\nimport { getCookieFromReq } from '../helpers/utils';\n\nconst setAuthHeader = req => {\n  const token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt');\n\n  if (token) {\n    return {\n      headers: {\n        authorization: `Bearer ${Cookies.getJSON('jwt')}`\n      }\n    };\n  }\n\n  return undefined;\n};\n\nexport const getSecretData = async req => {\n  const url = 'http://localhost:3000/api/v1/secret';\n  return axios.get(url, setAuthHeader(req)).then(response => {\n    return response.data;\n  });\n};","map":{"version":3,"sources":["C:/Users/Elio/Desktop/Portfolio-Website/actions/index.js"],"names":["axios","Cookies","getCookieFromReq","setAuthHeader","req","token","getJSON","headers","authorization","undefined","getSecretData","url","get","then","response","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,gBAAT,QAAiC,kBAAjC;;AAEA,MAAMC,aAAa,GAAIC,GAAD,IAAS;AAC7B,QAAMC,KAAK,GAAGD,GAAG,GAAGF,gBAAgB,CAACE,GAAD,EAAM,KAAN,CAAnB,GAAkCH,OAAO,CAACK,OAAR,CAAgB,KAAhB,CAAnD;;AACA,MAAID,KAAJ,EAAW;AACT,WAAO;AAAEE,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAG,UAASP,OAAO,CAACK,OAAR,CAAgB,KAAhB,CAAuB;AAAlD;AAAX,KAAP;AACD;;AACD,SAAOG,SAAP;AACD,CAND;;AAQA,OAAO,MAAMC,aAAa,GAAG,MAAON,GAAP,IAAe;AAC1C,QAAMO,GAAG,GAAG,qCAAZ;AACA,SAAOX,KAAK,CAACY,GAAN,CAAUD,GAAV,EAAeR,aAAa,CAACC,GAAD,CAA5B,EAAmCS,IAAnC,CAAwCC,QAAQ,IAAI;AAAE,WAAOA,QAAQ,CAACC,IAAhB;AAAsB,GAA5E,CAAP;AACD,CAHM","sourcesContent":["import axios from 'axios'\r\nimport Cookies from 'js-cookie'\r\nimport { getCookieFromReq } from '../helpers/utils'\r\n\r\nconst setAuthHeader = (req) => {\r\n  const token = req ? getCookieFromReq(req, 'jwt') : Cookies.getJSON('jwt')\r\n  if (token) {\r\n    return { headers: { authorization: `Bearer ${Cookies.getJSON('jwt')}` } }\r\n  }\r\n  return undefined\r\n}\r\n\r\nexport const getSecretData = async (req) => {\r\n  const url = 'http://localhost:3000/api/v1/secret'\r\n  return axios.get(url, setAuthHeader(req)).then(response => { return response.data })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}